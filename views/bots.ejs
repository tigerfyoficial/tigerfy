<%- include('partials/visual_hottrack') %>

<div class="tiger-offers">
  <div class="offers-header">
    <h1>Minhas Ofertas</h1>
    <p>Gerencie, crie e visualize fluxos inteligentes, automa√ß√µes e m√©tricas dos seus bots Telegram.</p>
  </div>

  <div class="offers-grid">
    <!-- BLOCO 1 -->
    <div class="offer-card">
      <div class="icon">
        <svg width="36" height="36" stroke="#ffcc00" fill="none" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
          <rect x="3" y="3" width="30" height="20" rx="4"/>
          <path d="M8 28h20M12 32h12"/>
          <circle cx="18" cy="13" r="4"/>
        </svg>
      </div>
      <h3>Criar Oferta</h3>
      <p>Defina nome, valor e par√¢metros de traqueamento para seu bot Telegram.</p>
      <button class="btn-primary" onclick="goCreate()">Criar</button>
    </div>

    <!-- BLOCO 2 -->
    <div class="offer-card">
      <div class="icon">
        <svg width="36" height="36" stroke="#ffcc00" fill="none" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
          <rect x="3" y="4" width="30" height="28" rx="4"/>
          <path d="M3 12h30M12 4v28M18 20h9M18 25h9"/>
        </svg>
      </div>
      <h3>Gerenciar Ofertas</h3>
      <p>Edite, duplique e acompanhe o desempenho das suas campanhas.</p>
      <button class="btn-primary" onclick="goManage()">Acessar</button>
    </div>

    <!-- BLOCO 3 -->
    <div class="offer-card">
      <div class="icon">
        <svg width="36" height="36" stroke="#ffcc00" fill="none" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
          <path d="M4 20h28M8 16v8M16 10v14M24 6v18"/>
        </svg>
      </div>
      <h3>Calcular ROI</h3>
      <p>Visualize o retorno das campanhas e calcule o ROI completo.</p>
      <button class="btn-primary" onclick="openRoi()">Calcular</button>
    </div>

    <!-- BLOCO 4 -->
    <div class="offer-card">
      <div class="icon">
        <svg width="36" height="36" stroke="#ffcc00" fill="none" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
          <rect x="3" y="5" width="30" height="22" rx="3"/>
          <polygon points="15,12 24,18 15,24" fill="#ffcc00"/>
        </svg>
      </div>
      <h3>Ver Tutoriais</h3>
      <p>Aprenda passo a passo com v√≠deos e estrat√©gias avan√ßadas.</p>
      <button class="btn-primary" onclick="openTutorial()">Assistir</button>
    </div>

    <!-- BLOCO 5 (IA ILIMITADA) -->
    <div class="offer-card locked">
      <div class="icon">
        <svg width="36" height="36" stroke="#ffcc00" fill="none" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="18" cy="12" r="4"/>
          <path d="M4 28c1-4 5-7 9-7h6c4 0 8 3 9 7"/>
          <path d="M18 2v3M18 31v3M31 18h3M2 18h3"/>
        </svg>
      </div>
      <h3>IA Ilimitada ‚Äî Tiger IA</h3>
      <p>Crie mensagens, automa√ß√µes e fluxos com intelig√™ncia TigerFy.</p>
      <button disabled>Em Breve</button>
    </div>
  </div>
</div>

<!-- MODAL TUTORIAL -->
<div class="modal" id="tutorialModal">
  <div class="modal-content">
    <span class="close" onclick="closeTutorial()">&times;</span>
    <iframe width="100%" height="450" src="https://www.youtube.com/embed/WNesCpWnclQ?autoplay=1&mute=1" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
  </div>
</div>

<!-- MODAL ROI -->
<div class="modal" id="roiModal">
  <div class="modal-content small">
    <span class="close" onclick="closeRoi()">&times;</span>
    <h2>Calculadora de ROI</h2>
    <input type="number" id="investment" placeholder="Investimento (R$)">
    <input type="number" id="revenue" placeholder="Receita Total (R$)">
    <input type="number" id="costs" placeholder="Custos Fixos (R$)">
    <button onclick="calcROI()">Calcular</button>
    <div id="roiResult"></div>
  </div>
</div>

<script>
  function goCreate(){ window.location.href = "/bots/create"; }
  function goManage(){ window.location.href = "/bots/manage"; }

  function openTutorial(){document.getElementById('tutorialModal').style.display='flex';}
  function closeTutorial(){document.getElementById('tutorialModal').style.display='none';}

  function openRoi(){document.getElementById('roiModal').style.display='flex';}
  function closeRoi(){document.getElementById('roiModal').style.display='none';}

  function calcROI(){
    const i=parseFloat(investment.value);
    const r=parseFloat(revenue.value);
    const c=parseFloat(costs.value);
    if(!i||!r){return alert('Preencha investimento e receita.')}
    const roi=((r-(i+c))/(i+c))*100;
    roiResult.innerHTML=`<p><b>ROI:</b> ${roi.toFixed(2)}%</p><p><b>Lucro Total:</b> R$ ${(r-(i+c)).toFixed(2)}</p>`;
  }
</script>

<style>
  html,body{
    margin:0;padding:0;
    background:#0a0a0a;color:#fff;
    font-family:Inter,Arial,sans-serif;
    -webkit-font-smoothing:antialiased;
  }
  *{box-sizing:border-box;}
  ::-webkit-scrollbar{display:none!important;}

  /* üîπ MESMA CENTRALIZA√á√ÉO DA DASHBOARD */
  .tiger-offers{
    padding:60px 80px 100px 130px;
    transform:scale(0.9) translateY(0px) translateX(-38px);
    transform-origin:top center;
    margin:0 auto;
    max-width:calc(100vw - 120px);
  }

  .offers-header{text-align:center;margin-bottom:10px;}
  .offers-header h1{color:#ffcc00;font-size:2rem;margin:0;}
  .offers-header p{color:#b4b4b4;font-size:.95rem;margin-top:8px;}
  .offers-grid{display:grid;grid-template-columns:repeat(4,minmax(260px,1fr));gap:30px;margin-top:30px;}
  .offer-card{background:rgba(255,255,255,0.03);border:1px solid rgba(255,204,0,0.12);border-radius:16px;padding:28px 22px;text-align:center;transition:.3s;}
  .offer-card:hover{transform:translateY(-5px);box-shadow:0 0 20px rgba(255,204,0,0.25);}
  .icon{margin-bottom:15px;transition:filter .3s,transform .3s;}
  .offer-card:hover .icon{filter:drop-shadow(0 0 8px rgba(255,204,0,0.6));transform:scale(1.1);}
  .offer-card h3{font-size:1.1rem;margin:0 0 8px;}
  .offer-card p{color:#b4b4b4;font-size:.9rem;margin:0 0 18px;}
  .btn-primary{background:linear-gradient(90deg,#ffcc00,#d4a100);border:none;padding:10px 20px;border-radius:8px;color:#000;font-weight:700;cursor:pointer;}
  .btn-disabled,
  .offer-card.locked button{
    background:rgba(255,255,255,0.05);
    color:#777;
    border:none;
    padding:10px 20px;
    border-radius:8px;
    cursor:not-allowed;
  }
  .offer-card.locked{opacity:0.6;filter:grayscale(1);}
  .modal{display:none;position:fixed;z-index:99;inset:0;background:rgba(0,0,0,0.85);align-items:center;justify-content:center;}
  .modal-content{background:#111;border:1px solid rgba(255,204,0,0.2);border-radius:14px;padding:25px;width:80%;max-width:900px;position:relative;}
  .modal-content.small{max-width:420px;text-align:center;}
  .close{position:absolute;top:10px;right:15px;font-size:1.8rem;cursor:pointer;color:#ffcc00;}
  .modal-content h2{color:#ffcc00;margin-top:0;}
  input{width:100%;margin:10px 0;padding:10px;border-radius:8px;border:1px solid rgba(255,204,0,0.3);background:rgba(255,255,255,0.05);color:#fff;}
  #roiModal button{background:linear-gradient(90deg,#ffcc00,#d4a100);border:none;padding:10px 20px;border-radius:8px;cursor:pointer;color:#000;font-weight:700;margin-top:10px;}
  #roiResult p{margin:6px 0;}

</style>
