<!-- NÃO inclua partials/topnav aqui. O layout já renderiza o topo. -->

<section class="journey">
  <h1 class="journey-title">Jornada de Conquistas</h1>
  <p class="journey-sub">Acompanhe seus marcos e veja seu progresso evoluir.</p>

  <div class="timeline">
    <div class="line"></div>

    <% const conquistas = [
      {titulo: 'Pacote 10K', valor: 'R$ 10.000', progresso: 40, descricao: 'Parabéns por alcançar R$ 10.000 em faturamento! Continue escalando suas campanhas rumo a novos patamares.', imagem: 'https://i.ibb.co/XVmHLvN/placa10k.png'},
      {titulo: 'Pacote 50K', valor: 'R$ 50.000', progresso: 15, descricao: 'Você atingiu um marco importante com visão e consistência. Continue crescendo com estratégia.', imagem: 'https://i.ibb.co/2Z1ZYjn/placa50k.png'},
      {titulo: 'Pacote 100K', valor: 'R$ 100.000', progresso: 0, descricao: 'Com determinação e foco, você superou o desafio dos seis dígitos. Mantenha o ritmo.', imagem: 'https://i.ibb.co/djS5w1y/placa100k.png'},
      {titulo: 'Pacote 250K', valor: 'R$ 250.000', progresso: 0, descricao: 'Você se destacou com liderança e resultados sólidos. Um verdadeiro exemplo de alta performance.', imagem: 'https://i.ibb.co/JF6ZKWh/placa250k.png'},
      {titulo: 'Pacote 500K', valor: 'R$ 500.000', progresso: 0, descricao: 'Agora você domina o jogo. Suas campanhas atingem patamares de elite.', imagem: 'https://i.ibb.co/XVbWqvJ/placa500k.png'},
      {titulo: 'Pacote 1 Milhão', valor: 'R$ 1.000.000', progresso: 0, descricao: 'Um marco lendário. Você entrou para o topo da TigerFy, com resultados extraordinários.', imagem: 'https://i.ibb.co/BtfsN7K/placa1m.png'}
    ]; %>

    <% conquistas.forEach((c,i)=>{ %>
      <div class="achievement <%= i % 2 === 0 ? 'left' : 'right' %>">
        <div class="achievement-content tf-card">
          <div class="achievement-text">
            <h2><%= c.titulo %></h2>
            <span class="badge"><%= c.valor %></span>
            <p><%= c.descricao %></p>

            <div class="progress-box">
              <div class="progress-info">
                <span>Progresso</span>
                <span><%= c.progresso %>%</span>
              </div>
              <div class="progress-bar">
                <div class="progress" style="width:<%= c.progresso %>%"></div>
              </div>
            </div>
          </div>

          <img src="<%= c.imagem %>" alt="<%= c.titulo %>" class="achievement-img" loading="lazy">
        </div>
      </div>
    <% }) %>
  </div>
</section>

<style>
  /* usa as vars do layout; define fallbacks PB */
  :root{
    --bg: var(--bg, #0a0a0a);
    --fg: var(--fg, #fff);
    --muted: var(--muted, #9aa0a6);
    --card-bg: var(--card-bg, #111213);
    --card-border: var(--card-border, rgba(255,255,255,0.10));
  }

  /* container dentro do .tf-root já existente no layout */
  .journey{
    max-width: 1200px;
    margin: 0 auto;
    padding: 28px 0 70px 0;
  }

  .journey-title{
    text-align:center;
    color: var(--fg);
    font-size: 2.1rem;
    margin: 0 0 6px 0;
    letter-spacing: .2px;
  }
  .journey-sub{
    text-align:center;
    color: var(--muted);
    margin: 0 0 36px 0;
    font-size: .98rem;
  }

  .timeline{
    position:relative;
    display:flex;
    flex-direction:column;
    align-items:center;
  }
  .timeline .line{
    position:absolute;
    top:0; bottom:0;
    width:2px;
    background: linear-gradient(180deg, rgba(255,255,255,.25), rgba(255,255,255,.06));
    z-index:0;
  }

  .achievement{
    position:relative;
    width:100%;
    max-width:1000px;
    display:flex;
    justify-content:flex-start;
    margin-bottom:72px;
    opacity:0; transform: translateY(26px);
    transition: opacity .5s ease, transform .5s ease;
  }
  .achievement.right{ flex-direction: row-reverse; }
  .achievement.show{ opacity:1; transform:none; }

  .achievement-content{
    background: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
    border: 1px solid var(--card-border);
    border-radius: 14px;
    padding: 28px 32px;
    display: flex; align-items: center; justify-content: space-between;
    width: 47%;
    z-index:1;
  }
  .achievement.left .achievement-content{ margin-right:auto; }
  .achievement.right .achievement-content{ margin-left:auto; }

  .achievement-content:hover{ border-color: rgba(255,255,255,0.22); }

  .achievement-text{
    max-width: 56%;
    display:flex; flex-direction:column; justify-content:center;
  }
  .achievement-text h2{
    margin:0 0 6px 0; font-size:1.28rem; color: var(--fg);
  }
  .achievement-text p{
    margin:10px 0 14px 0; color: var(--muted); line-height:1.5; font-size:.96rem;
  }

  .badge{
    display:inline-block; padding:6px 14px; border-radius:999px;
    background: rgba(255,255,255,.10); color: var(--fg);
    border:1px solid rgba(255,255,255,.18);
    font-size:.88rem; font-weight:600;
    margin-bottom:4px;
  }

  .achievement-img{
    width:200px; height:auto; object-fit:contain; border-radius:10px;
    margin-left:20px; margin-right:20px; filter: grayscale(30%);
  }

  .progress-box{ margin-top:6px; }
  .progress-info{
    display:flex; justify-content:space-between; color: var(--muted); font-size:.85rem; margin-bottom:6px;
  }
  .progress-bar{
    width:100%; height:8px; background: rgba(255,255,255,.08); border-radius:6px; overflow:hidden;
  }
  .progress{
    height:100%;
    background: linear-gradient(90deg, #fff, rgba(255,255,255,.75));
    transition: width .6s ease;
  }

  @media (max-width: 950px){
    .achievement-content{ width:100%!important; flex-direction:column; text-align:center; gap:18px; }
    .achievement-text{ max-width:100%; align-items:center; }
    .achievement-img{ margin:0; max-width:260px; width:100%; }
  }
</style>

<script>
  // anima cards ao entrar na viewport
  const observer = new IntersectionObserver((entries)=>{
    entries.forEach(e => { if(e.isIntersecting) e.target.classList.add('show'); });
  }, { threshold: 0.2 });

  document.querySelectorAll('.achievement').forEach(el => observer.observe(el));
</script>
